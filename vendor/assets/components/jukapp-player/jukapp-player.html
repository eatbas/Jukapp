<link rel="import" href="../paper-shadow/paper-shadow.html">
<link rel="import" href="../google-youtube/google-youtube.html">
<link rel="import" href="../core-toolbar/core-toolbar.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../core-icon/core-icon.html">

<polymer-element name="jukapp-player" attributes="youtubeId videoTitle">
  <template>
    <style>
    </style>

      <div class="youtube-player" style="background-color: red;" vertical layout flex center>
        <google-youtube
          id="player"
          videoid="{{youtubeId}}"
          height="390px"
          width="640px"
          rel="0"
          state={{state}}
          autoplay="1">
        </google-youtube>
      </div>
      <div horizontal layout center-justified style="">
        <div horizontal layout style="background-color: gray; width: 640px;">
            <paper-button flex on-click="{{playPauseClicked}}">
              <core-icon icon="{{isPlaying ? 'av:pause' : 'av:play-arrow'}}"></core-icon>
            </paper-button>
            <paper-button flex on-click="{{nextClicked}}">
              <core-icon icon="av:skip-next"></core-icon>
            </paper-button>
        </div>
      </div>

  </template>
  <script>

    Polymer('jukapp-player', {

      publish: {
        isPlaying: false
      },

      primaryTapped: function(e) {
        this.fire("primary-action");
      },

      playPauseClicked: function() {
        if(this.isPlaying) {
          this.$.player.pause();
        } else {
          this.$.player.play();
        }
      },

      stateChanged: function() {
        this.isPlaying = this.state == 1;
      },

      nextClicked: function() {
        this.fire("next-clicked");
      }

    });

  </script>
</polymer-element>
